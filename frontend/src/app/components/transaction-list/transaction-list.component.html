<h3 *ngIf="search.term && (g.transactions | searchFilter:search.term).length !== 0">
  {{ (g.transactions | recurrence | searchFilter:search.term).length }} search results
  <small class="text-muted">for "{{ search.term }}"</small>
</h3>

<div class="row" *ngIf="!search.term">
  <div class="text-right w-100">
    <span class="text-muted">Beginning Balance:</span>
    <strong class="col text-right text-large">{{ g.transactions | empty | totalAccountBalance | currency:'EUR' }}</strong>
  </div>
</div>
<!-- TODO category colors as left border -->
<div *ngFor="let t of (g.transactions | searchFilter:search.term | recurrence | sortTransactions)"
     class="row transaction" [routerLink]="['/edit', t.id]">
  <span class="col-2 col-md-3">
    <span class="d-none d-md-inline">{{ t.timestamp | date:'longDate' }}</span>
    <span class="d-md-none">{{ t.timestamp | date:'MMM d' }}</span>
    <br>
    {{ t.timestamp | date:'HH:mm' }}
  </span>
  <span class="col col-lg-2">
    {{ t.category }}
    <div class="d-md-none">
      {{ t.notes }}
    </div>
  </span>
  <span class="col d-none d-md-inline">
    {{ t.notes }}
  </span>
  <span class="col-4 col-lg-2 text-right">
    <small class="text-muted">{{ t.account | accountName }}</small>
    <br>
    <span [class.text-success]="t.amount > 0" [class.text-danger]="t.amount < 0">{{ t.amount | currency:'EUR' }}</span>
  </span>
</div>
<div *ngIf="!search.term && g.transactions.length === 0" class="text-muted">
  No transactions found.
</div>
<div *ngIf="search.term && (g.transactions | searchFilter:search.term).length === 0" class="text-muted">
  No transactions matching "{{ search.term }}" found. Create one by clicking the <span class="oi oi-plus"></span> in the upper
  right corner.
</div>
<hr class="double-line" *ngIf="!search.term">
<div class="row" *ngIf="!search.term">
  <div class="text-right w-100">
    <span class="text-muted">Ending Balance:</span>
    <strong class="col text-large">{{ g.transactions | recurrence | totalAccountBalance | currency:'EUR' }}</strong>
  </div>
</div>
